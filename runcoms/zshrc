#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...

if (( ! $+commands[gpg-agent] )); then
    if ! gpg-agent; then
        gpg-agent --daemon --enable-ssh-support --write-env-file "${HOME}/.gpg-agent-info-${HOSTNAME}"
    fi
    . "${HOME}/.gpg-agent-info"
    export GPG_AGENT_INFO
    export SSH_AUTH_SOCK
    #eval `keychain --eval -Q -q --nogui --noask --agents gpg`
    #[ -f "$HOME/.keychain/$HOSTNAME-sh" ] && source "$HOME/.keychain/$HOSTNAME-sh" 2>/dev/null
    #[ -f "$HOME/.keychain/$HOSTNAME-sh-gpg" ] && source "$HOME/.keychain/$HOSTNAME-sh-gpg" 2>/dev/null
fi

bindkey -M viins "$key_info[Control]R" zaw-history
bindkey -M filterselect "$key_info[Control]R" down-line-or-history
bindkey -M filterselect "$key_info[Control]S" up-line-or-history
bindkey -M viins "$key_info[Control]S" zaw-cs225-students
